# Пример за docker-compose
## Просто приложение, което сервира PHP страница с Apache web server и има допълнително инсталирано PHP разширение opcache.
За да стартирате приложението е необходимо да изпълните командата ```docker compose build```, за да създадете custom image. Контекстът за изграждане на този custom image е дефиниран в **docker-compose.yaml**, а инструкциите за него - в Dockerfile.\
След като се изгради въпросният custom image, можете да изпълните командата ```docker compose up -d```, за да стартирате контейнерите дефинирани в **docker-compose.yaml**.\
Понеже стартирате контейнера директно от image **php:8.3-apache**, а не пгорама в него (както е в предишните примери) - Apache web server ще се стартира автоматично, защото е дефиниран като entrypoint за контейнера. Т.е. не е нужно да го стартирате ръчно, както в предишните примери.

След като командата ```docker compose up -d``` приключи изпълнението си и стартира контейнерите, ще можете да достъпите примерната страница на
адрес [http://localhost:8080](http://localhost:8080)

За да се уверите, че наистина има инсталирано разширение **opcache**, изпълнете командата: ```docker exec -it web-container /bin/bash```\
Тази команда ще отвори **/bin/bash** шел в работещият вече контейнер **web-container**. След като шелът се отвори, изпълнете командата ```php -r 'opcache_get_configuration();'```, за да се уверите, че разширението **opcache** е инсталирано.\
Очакваният резултат от изпълнението на тази команда е командата да НЕ изведе нищо. Най-важно - да не изведе грешка.